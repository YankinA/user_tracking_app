# User tracking app

Этот README файл поможет развернуть и настроить сервис треĸинга аĸтивности посетителей сайта в браузере. Посетитель ходит по сайту и
тыĸает по ĸнопĸам, а на сервере остаются
логи его аĸтивности.

Сервис трекинга использует снипет с динамической загрузкой скрипта вместо обычной вставки скрипта в HTML-код. Это решение было принято по нескольким причинам:

- Можно сохранять события в буфер, не дожидаясь загрузки скрипта или не блокируя загрузку контента, например, в случае медленного интернета или большого размера скрипта.
- Управлять порядком загрузки других скриптов.
- Получение согласия пользователя перед сбором данных.
- Проверки содержимого скрипта перед его загрузкой:

```sh
// пример проверки содержимого

fetch(scripURL)
 ...
const isScriptSafe = (scriptContent) => {
  const forbiddenKeywords = ['eval', 'document.write', '<script>', '<iframe>', 'innerHTML'];
  for (const keyword of forbiddenKeywords) {
    if (scriptContent.includes(keyword)) {
      return false;
    }
  }
  return true;
}
```

## Содержание

1. [Скачивание репозитория](#скачивание-репозитория)
2. [Установка зависимостей](#установка-зависимостей)
3. [Настройка конфигурации](#настройка-конфигурации)
4. [Запуск проекта dev](#запуск-проекта-dev)
5. [Сброка](#сборка-проекта)
6. [Запуск](#запуск-проекта)

## Скачивание репозитория

```sh
git clone -b implementation https://github.com/fundraiseup-test/51614944-Yankin-Anton.git
```

## Установка зависимостей

- Выполните команду npm ci

## Настройка конфигурации

- акутализируйте данные в файле `./backend/.env`

## Запуск проекта dev

- введите команду `npm run dev:bakcend`
- введите команду `npm run dev:frontend`

## Сборка проекта

- запустутие собрку командой `npm run build`

## Запуск проекта

- запустутие сервер командой `npm run start`
